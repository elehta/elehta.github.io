<!DOCTYPE html>
<html>
<head>
    <style>
        .dpp-container { font-family: sans-serif; border: 2px solid #000; padding: 20px; border-radius: 10px; background:#f6f6f6 }
        .highlight { color: #007bff; font-weight: bold; }
        .data-box { background: #f4f4f4; padding: 10px; margin: 10px 0; border-left: 5px solid #007bff; }
    </style>
</head>
<body>

<div class="dpp-container">
    {{#if credentialSubject}}
        <h2>Product: {{credentialSubject.name}}</h2>
        <p><strong>Description:</strong> {{credentialSubject.description}}</p>
        
        <div class="data-box">
            <p><strong>Manufacturer:</strong> {{credentialSubject.producedByParty.name}}</p>
            <p><strong>Production Date:</strong> {{credentialSubject.productionDate}}</p>
            <p><strong>serialNumber:</strong> {{credentialSubject.serialNumber}}</p>
            <p><strong>batch:</strong> {{credentialSubject.batchNumber}}</p>
            <p><strong>Production platz:</strong> {{credentialSubject.producedAtFacility.name}}</p>
            <p><strong>Facility id:</strong> {{credentialSubject.producedAtFacility.id}}</p>    
            <p><strong>countryOfProduction:</strong> {{credentialSubject.countryOfProduction}}</p>
        </div>

        {{#each credentialSubject.productCategory}}
            <p><strong>Code:</strong> {{this.code}}</p>
            <p><strong>Category:</strong> {{this.name}}</p>
            <p><strong>Scheme:</strong> {{this.schemeName}}</p>                
        {{/each}}
    
        {{#each credentialSubject.materialsProvenance}}
            <a href="{{this.materialType.id}}" style="display:inline-block; padding:10px; background:#28a745; color:white; text-decoration:none; border-radius:5px;">
                Link: {{this.materialType.name}}
            </a>
             <p><strong>Name:</strong> {{this.name}}</p>
        {{/each}}

        {{#each credentialSubject.traceabilityInformation.traceabilityEvent}}
            <a href="{{this.linkURL}}" style="display:inline-block; padding:10px; background:#28a745; color:white; text-decoration:none; border-radius:5px;">
                Link: {{this.linkName}}
            </a>
        {{/each}}
    {{else}}
        <p style="color:red;">Error: credentialSubject data not found in the provided context.</p>
    {{/if}}

    <hr>
    <div style="font-size: 10px; color: #666;">
        <p><strong>Issuer:</strong> {{issuer.name}} ()</p>
    </div>
</div>

</body>
</html>
