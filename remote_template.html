<!DOCTYPE html>
<html>
<head>
    <style>
        .dpp-container { font-family: sans-serif; border: 2px solid #000; padding: 20px; border-radius: 10px; background:#f6f6f6 }
        .highlight { color: #007bff; font-weight: bold; }
        .data-box { background: #f4f4f4; padding: 10px; margin: 10px 0; border-left: 5px solid #007bff; }
    </style>
</head>
<body>
<pre>
    {{json this}}
</pre>
<div class="dpp-container">
    {{#if credentialSubject}}
        <h2>Product: {{credentialSubject.name}}</h2>
        <p><strong>Description:</strong> {{credentialSubject.description}}</p>
        
        <div class="data-box">
            <p><strong>Manufacturer:</strong> {{credentialSubject.producedByParty.name}}</p>
            <p><strong>Production Date:</strong> {{credentialSubject.productionDate}}</p>
            <p><strong>Process:</strong> {{credentialSubject.traceabilityInformation.valueChainProcess}}</p>
        </div>

        {{#each credentialSubject.traceabilityInformation.traceabilityEvent}}
            <a href="{{this.linkURL}}" style="display:inline-block; padding:10px; background:#28a745; color:white; text-decoration:none; border-radius:5px;">
                Link: {{this.linkName}}
            </a>
        {{/each}}
    {{else}}
        <p style="color:red;">Error: credentialSubject data not found in the provided context.</p>
    {{/if}}

    <hr>
    <div style="font-size: 10px; color: #666;">
        <p><strong>Credential ID:</strong> {{id}}</p>
        <p><strong>Subject ID:</strong> {{credentialSubject.id}}</p>
        <p><strong>Issuer:</strong> {{issuer.name}} ({{issuer.id}})</p>
    </div>
</div>

</body>
</html>
